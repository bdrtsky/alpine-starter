import y from"./Input.96d89a65.js";import b from"./Button.e75f3fc1.js";import{b as x}from"./app.config.400c2c73.js";import{c as v}from"./Icon.2571d11f.js";import{F as S,v as R,I as T,N as m,O as c,R as i,T as V,U as B,z as r,V as F,W as w,X as C,Y as E,$ as N}from"./runtime-core.esm-bundler.60e7e71f.js";/* empty css                        */import{_ as O}from"./_plugin-vue_export-helper.c27b6911.js";/* empty css                  *//* empty css                   */const j=["action"],k={class:"inputs"},U=S({__name:"ContactForm",props:{submitButtonText:{type:String,default:"Send message"},fields:{type:Array,default:()=>[{type:"text",model:"name",name:"Name",placeholder:"Your name",required:!0,layout:"default"},{type:"email",model:"email",name:"Email",placeholder:"Your email",required:!0,layout:"default"},{type:"text",model:"text",name:"Subject",required:!1,layout:"default"},{type:"textarea",model:"message",name:"Message",placeholder:"Your message",required:!0,layout:"big"}]}},setup(l){const d=l,p=v().alpine,{FORMSPREE_URL:n}=x().public;n||console.warn("No FORMSPREE_URL provided");const t=R(),f=T(d.fields.map(e=>({...e,data:""}))),_=async e=>{e.preventDefault();const u=new FormData(e.target);t.value="Sending...",fetch(e.target.action,{method:e.target.method,body:u,headers:{Accept:"application/json"}}).then(s=>{s.ok?(t.value=p.form.successMessage,e.target.reset()):s.json().then(o=>{Object.hasOwn(o,"errors")?(t.value=o.errors[0].message,console.error(o.errors.map(a=>a.message).join(", ")),setTimeout(()=>{t.value="Send message"},2e3)):console.error("There was a problem submitting your form")})}).catch(()=>{console.error("There was a problem submitting your form")})};return(e,u)=>{const s=y,o=b;return m(),c("form",{class:"contact-form",method:"POST",action:r(n),onSubmit:_},[i("div",k,[(m(!0),c(V,null,B(r(f),(a,g)=>(m(),N(s,{key:g,modelValue:a.data,"onUpdate:modelValue":h=>a.data=h,field:a},null,8,["modelValue","onUpdate:modelValue","field"]))),128))]),i("div",null,[F(o,{type:"submit",disabled:!r(n)},{default:w(()=>[C(E(r(t)?r(t):l.submitButtonText),1)]),_:1},8,["disabled"])])],40,j)}}}),W=O(U,[["__scopeId","data-v-48475fb7"]]);export{W as default};
