import"./app.config.400c2c73.js";import{v as S,x}from"./runtime-core.esm-bundler.60e7e71f.js";const C=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,g=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,k=/^\s*["[{]|^\s*-?\d[\d.]{0,14}\s*$/;function E(e,t){if(e!=="__proto__"&&!(e==="constructor"&&t&&typeof t=="object"&&"prototype"in t))return t}function A(e,t={}){if(typeof e!="string")return e;const r=e.toLowerCase().trim();if(r==="true")return!0;if(r==="false")return!1;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r!=="undefined"){if(!k.test(e)){if(t.strict)throw new SyntaxError("Invalid JSON");return e}try{return C.test(e)||g.test(e)?JSON.parse(e,E):JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}}const T=decodeURIComponent,b=encodeURIComponent,I=/; */,l=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function R(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");let r={},n=t||{},i=e.split(I),o=n.decode||T;for(let s=0;s<i.length;s++){let c=i[s],u=c.indexOf("=");if(u<0)continue;let a=c.substr(0,u).trim(),f=c.substr(++u,c.length).trim();f[0]=='"'&&(f=f.slice(1,-1)),r[a]==null&&(r[a]=N(f,o))}return r}function d(e,t,r){let n=r||{},i=n.encode||b;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!l.test(e))throw new TypeError("argument name is invalid");let o=i(t);if(o&&!l.test(o))throw new TypeError("argument val is invalid");let s=e+"="+o;if(n.maxAge!=null){let c=n.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(c)}if(n.domain){if(!l.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!l.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s}function N(e,t){try{return t(e)}catch{return e}}const O={path:"/",watch:!0,decode:e=>A(decodeURIComponent(e)),encode:e=>encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))};function j(e,t){var o;const r={...O,...t},n=U(r)||{},i=S(n[e]??((o=r.default)==null?void 0:o.call(r)));{const s=()=>{$(e,i.value,r)};r.watch?x(i,s,{deep:r.watch!=="shallow"}):s()}return i}function U(e={}){return R(document.cookie,e)}function F(e,t,r={}){return t==null?d(e,t,{...r,maxAge:-1}):d(e,t,r)}function $(e,t,r={}){document.cookie=F(e,t,r)}const y=(e,t)=>t.split(".").reduce((r,n)=>r&&r[n],e),h=(e,t)=>Object.keys(e).filter(t).reduce((r,n)=>Object.assign(r,{[n]:e[n]}),{}),v=e=>t=>Array.isArray(t)?t.map(r=>e(r)):e(t),m=e=>{const t=[],r=[];for(const n of e)["$","_"].includes(n)?t.push(n):r.push(n);return{prefixes:t,properties:r}},z=(e=[])=>t=>{if(e.length===0||!t)return t;const{prefixes:r,properties:n}=m(e);return h(t,i=>!n.includes(i)&&!r.includes(i[0]))},B=(e=[])=>t=>{if(e.length===0||!t)return t;const{prefixes:r,properties:n}=m(e);return h(t,i=>n.includes(i)||r.includes(i[0]))},H=(e,t)=>{const r=new Intl.Collator(t.$locale,{numeric:t.$numeric,caseFirst:t.$caseFirst,sensitivity:t.$sensitivity}),n=Object.keys(t).filter(i=>!i.startsWith("$"));for(const i of n)e=e.sort((o,s)=>{const c=[y(o,i),y(s,i)].map(u=>{if(u!==null)return u instanceof Date?u.toISOString():u});return t[i]===-1&&c.reverse(),r.compare(c[0],c[1])});return e},K=(e,t="Expected an array")=>{if(!Array.isArray(e))throw new TypeError(t)},p=e=>Array.isArray(e)?e:e?[e]:[],P=["sort","where","only","without"],V=(e,t)=>{const r={...t};for(const o of P)r[o]&&(r[o]=p(r[o]));const n=(o,s=c=>c)=>(...c)=>(r[o]=s(...c),i),i={params:()=>r,only:n("only",p),without:n("without",p),where:n("where",o=>[...p(r.where),o]),sort:n("sort",o=>[...p(r.sort),...p(o)]),limit:n("limit",o=>parseInt(String(o),10)),skip:n("skip",o=>parseInt(String(o),10)),find:()=>e(i),findOne:()=>(r.first=!0,e(i)),findSurround:(o,s)=>(r.surround={query:o,...s},e(i)),locale:o=>i.where({_locale:o})};return i},L=/\d/,J=["-","_","/","."];function _(e=""){if(!L.test(e))return e.toUpperCase()===e}function w(e,t){const r=t??J,n=[];if(!e||typeof e!="string")return n;let i="",o,s;for(const c of e){const u=r.includes(c);if(u===!0){n.push(i),i="",o=void 0;continue}const a=_(c);if(s===!1){if(o===!1&&a===!0){n.push(i),i=c,o=a;continue}if(o===!0&&a===!1&&i.length>1){const f=i[i.length-1];n.push(i.slice(0,Math.max(0,i.length-1))),i=f+c,o=a;continue}}i+=c,o=a,s=u}return n.push(i),n}function q(e){return e?e[0].toUpperCase()+e.slice(1):""}function Q(e){return e?(Array.isArray(e)?e:w(e)).map(t=>q(t)).join(""):""}function W(e,t){return e?(Array.isArray(e)?e:w(e)).map(r=>r.toLowerCase()).join(t??"-"):""}export{K as a,v as b,V as c,A as d,p as e,B as f,y as g,W as k,Q as p,H as s,j as u,z as w};
